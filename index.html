<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dota 2 — Офіційний фан-сайт</title>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Radiance:wght@400;700;900&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet"> 
  
  <style>
    :root { --dota-red: #c0392b; }
    body {
      background: #000 url('https://wallscloud.net/img/resize/1920/1080/MM/2016-09-29-dota-2-D9gk.jpg') fixed center/cover;
      color: #eee; font-family: 'Roboto', sans-serif;
    }
    .red { color: var(--dota-red) !important; text-shadow: 0 0 20px var(--dota-red); }
    h1,h2,h3,.navbar-brand,.btn-dota { font-family: 'Radiance', sans-serif; font-weight: 700; }
    .navbar { background: rgba(0,0,0,0.95)!important; backdrop-filter: blur(12px); border-bottom: 2px solid #333; }
    .hero { height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center;
            background: linear-gradient(to bottom,rgba(0,0,0,0.6),rgba(0,0,0,0.95)); }
    .hero h1 { font-size: 11rem; }
    .btn-dota { padding: 1.2rem 3rem; font-size: 1.4rem; border-radius: 50px; transition: all .3s; }
    .btn-primary { background: var(--dota-red); border: none; }
    .btn-primary:hover { background: #e74c3c; transform: scale(1.08); }
    .section-title { font-size: 4.5rem; color: var(--dota-red); text-align: center; margin: 4rem 0 3rem; }
    .news-card { transition: .4s; border: 1px solid #444; background: #222; margin-bottom: 20px; }
    .news-card:hover { transform: translateY(-10px); border-color: var(--dota-red); box-shadow: 0 10px 20px rgba(192,57,43,.4); }
    .news-link { cursor: pointer; }
    .news-content { padding: 15px; }
    .comments-section { padding: 15px; border-top: 1px solid #444; background: #1a1a1a; }
    .comment-item { margin-bottom: 10px; padding: 10px; border-bottom: 1px solid #333; }
    footer { background: #111; padding: 4rem 0; }
  </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container-fluid px-4">
      <a class="navbar-brand fs-2 red" href="#">DOTA<span class="red">2</span></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto gap-4 fs-5">
          <li><a class="nav-link text-white" href="#home">Головна</a></li>
          <li><a class="nav-link text-white" href="#about">Про гру</a></li>
          <li><a class="nav-link text-white" href="#news">Новини</a></li>
          <li><a class="nav-link text-white" href="#gallery">Галерея</a></li>
          <li><a class="nav-link text-white" href="#contact">Контакти</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <section id="home" class="hero">
    <div>
      <h1 class="display-1">DOTA <span class="red">2</span></h1>
      <p class="fs-1 mb-5">Ти наступний. Битва за Ancient триває вічно.</p>
      <a href="https://store.steampowered.com/app/570/Dota_2/" target="_blank" class="btn btn-dota btn-primary me-4">ГРАТИ БЕЗКОШТОВНО</a>
      <a href="#gallery" class="btn btn-dota btn-outline-light">ДИВИТИСЬ ТРЕЙЛЕР</a>
    </div>
  </section>

  <section id="about" class="py-5">
    <div class="container">
      <h2 class="section-title">Про гру</h2>
      <div class="row align-items-center g-5">
        <div class="col-lg-6">
          <h3 class="red fs-1">Dota 2 — найглибша MOBA у світі</h3>
          <p class="fs-4">Жанр: <strong>MOBA</strong></p>
          <p class="lead">5 на 5, 124 герої, тисячі предметів, мільйони стратегій.</p>
          <ul class="fs-5">
            <li>Три лінії, джунглі, Рошан, Ancient</li>
            <li>Глибока механіка: ластхіти, денай, варди, смоки</li>
            <li>Регулярні оновлення від Valve</li>
            <li>Найбільший призовий фонд в кіберспорті</li>
          </ul>
        </div>
        <div class="col-lg-6">
          <img src="https://clan.fastly.steamstatic.com/images/3703047/6627033e4c0db6f3f31b0757cacb2dfea0bb0067.png" class="img-fluid rounded-4 shadow-lg" alt="Dota 2 gameplay">
        </div>
      </div>
    </div>
  </section>

  <section id="news" class="py-5 bg-dark">
    <div class="container">
      <h2 class="section-title d-flex justify-content-between align-items-center">
        Останні новини
        <button class="btn btn-outline-danger btn-sm" data-bs-toggle="modal" data-bs-target="#adminModal" id="adminBtn" style="display:none;">Адмінка</button>
      </h2>
      <div class="row g-4" id="newsContainer"></div>
    </div>
  </section>

  <section id="gallery" class="py-5">
    <div class="container">
      <h2 class="section-title">Галерея та трейлер</h2>
      <div id="galleryCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
        <div class="carousel-inner rounded-4 shadow-lg">
          <div class="carousel-item active"><img src="https://i.pinimg.com/736x/3f/82/5c/3f825c50cdc92bec14c82a0ffe6f5a9b.jpg" class="d-block w-100" alt="Pudge"></div>
          <div class="carousel-item"><img src="https://s3.stroi-news.ru/img/invoker-kartinki-1.jpg" class="d-block w-100" alt="Invoker"></div>
          <div class="carousel-item"><img src="https://s1.1zoom.ru/big3/992/DOTA_2_Anti-Mage_Warriors_Battle_axes_583690_1920x1080.jpg" class="d-block w-100" alt="Anti-Mage"></div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#galleryCarousel" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
        <button class="carousel-control-next" type="button" data-bs-target="#galleryCarousel" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
      </div>
      <div class="ratio ratio-16x9 rounded-4 shadow-lg">
        <iframe src="https://www.youtube-nocookie.com/embed/vAwGugKLRn4" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </div>
    </div>
  </section>

  <section id="contact" class="py-5 bg-dark text-center">
    <div class="container">
      <h2 class="section-title">Зворотний зв’язок</h2>
      <p class="fs-4">Пиши в Telegram: <a href="https://t.me/ynggd_1" target="_blank" class="text-danger">@ynggd_1</a></p>
    </div>
  </section>

  <footer class="text-center py-5">
    <p>© 2025 Valve Corporation. Dota та логотип Dota є торговими марками Valve Corporation.<br>Фан-сайт створений з любов'ю до гри.</p>
  </footer>

  <div class="modal fade" id="authModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content bg-dark text-white border-danger">
        <div class="modal-header">
          <h5 class="modal-title red" id="authTitle">Реєстрація</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <input type="text" id="nick" class="form-control mb-3" placeholder="Нік" maxlength="20">
          <input type="password" id="pass" class="form-control" placeholder="Пароль">
          <small class="text-muted d-block mt-2">Адмін: <code>admin</code> / <code>dota2</code></small>
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline-light" onclick="toggleAuth()">Вхід</button>
          <button class="btn btn-danger" onclick="register()">Зареєструватись</button>
          <button class="btn btn-success" onclick="login()">Увійти</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="adminModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
      <div class="modal-content bg-dark text-white">
        <div class="modal-header">
          <h5 class="modal-title red">Адмін-панель</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <h6>Додати новину</h6>
          <input type="text" id="newTitle" class="form-control mb-2" placeholder="Заголовок">
          <input type="text" id="newText" class="form-control mb-2" placeholder="Короткий опис">
          <input type="text" id="newImg" class="form-control mb-2" placeholder="Посилання на картинку">
          <input type="url" id="newLink" class="form-control mb-2" placeholder="Посилання на повну новину (не обов’язково)">
          <input type="date" id="newDate" class="form-control mb-3">
          <button class="btn btn-danger" onclick="addNews()">+ Додати новину</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    let currentUser = null;
    const ADMIN_NICK = 'admin';
    const ADMIN_PASS = 'dota2';

    function toggleAuth() {
      const t = document.getElementById('authTitle');
      const b = document.querySelector('#authModal .btn-danger');
      if (t.textContent === 'Реєстрація') { t.textContent = 'Вхід'; b.style.display = 'none'; }
      else { t.textContent = 'Реєстрація'; b.style.display = 'inline-block'; }
    }

    function register() {
      const n = document.getElementById('nick').value.trim();
      const p = document.getElementById('pass').value;
      if (!n || !p) return alert('Заповни все');
      if (n === ADMIN_NICK) return alert('Нік зарезервовано');
      const u = JSON.parse(localStorage.getItem('dotaUsers') || '{}');
      if (u[n]) return alert('Нік зайнятий');
      u[n] = p; localStorage.setItem('dotaUsers', JSON.stringify(u));
      alert('Зареєстровано! Тепер увійди');
    }

    function login() {
      const n = document.getElementById('nick').value.trim();
      const p = document.getElementById('pass').value;
      if (!n || !p) return alert('Заповни все');
      if (n === ADMIN_NICK && p === ADMIN_PASS) currentUser = {nick: n, isAdmin: true};
      else {
        const u = JSON.parse(localStorage.getItem('dotaUsers') || '{}');
        if (u[n] && u[n] === p) currentUser = {nick: n, isAdmin: false};
        else return alert('Неправильно');
      }
      document.getElementById('nick').value = document.getElementById('pass').value = '';
      bootstrap.Modal.getInstance(document.getElementById('authModal')).hide();
      updateUI();
    }

    function logout() { currentUser = null; updateUI(); }

    function updateUI() {
      let link = document.getElementById('loginLink');
      if (!link) {
        const li = document.createElement('li');
        li.className = 'nav-item';
        li.innerHTML = `<a class="nav-link text-white" href="#" id="loginLink">УВІЙТИ</a>`;
        document.querySelector('.navbar-nav').appendChild(li);
        link = document.getElementById('loginLink');
      }
      if (currentUser) {
        link.innerHTML = `${currentUser.nick} <small class="text-muted">[вихід]</small>`;
        link.onclick = logout;
        document.getElementById('adminBtn').style.display = currentUser.isAdmin ? 'block' : 'none';
      } else {
        link.innerHTML = 'УВІЙТИ';
        link.onclick = () => new bootstrap.Modal('#authModal').show();
        document.getElementById('adminBtn').style.display = 'none';
      }
      renderNews();
    }

    const defaultNews = [
      { id: "n1", title: "Вийшов патч 7.37d", text: "Нерф Techies, буф Pudge, нові предмети.", img: "https://dota2.ru/img/news/slider/t1727849005.webp", link: "", date: "2025-11-26" },
      { id: "n2", title: "Анонс The International 2025", text: "Призовий фонд стартує з $40 млн.", img: "https://dota2.net/images/cdn/MjUwNQ==/SVJTZ1hBQndPNw==.webp", link: "https://dota2.ru/news/ti2025", date: "2025-11-20" },
      { id: "n3", title: "Новий герой — Ringmaster", text: "Вже в грі! Цирк прийшов у Dota.", img: "https://escorenews.com/media/news/n52377.jpeg", link: "", date: "2025-11-15" }
    ];

    function getNews() {
      const s = localStorage.getItem('dotaNews');
      if (s) return JSON.parse(s);
      localStorage.setItem('dotaNews', JSON.stringify(defaultNews));
      return defaultNews;
    }
    function saveNews(a) { localStorage.setItem('dotaNews', JSON.stringify(a)); }
    function generateId() { return 'n' + Date.now() + Math.floor(Math.random()*1000); }

    function renderNews() {
      const news = getNews();
      document.getElementById('newsContainer').innerHTML = news.map(n => `
        <div class="col-md-4">
          <div class="card bg-secondary text-white news-card h-100 position-relative ${n.link ? 'news-link' : ''}">
            <div class="news-content" ${n.link ? `onclick="window.open('${n.link}', '_blank')"` : ''}>
              ${currentUser?.isAdmin ? `<button class="btn btn-danger btn-sm position-absolute top-0 end-0 m-2 z-3" onclick="event.stopPropagation(); deleteNews('${n.id}')">×</button>` : ''}
              <img src="${n.img}" class="card-img-top" alt="">
              <div class="card-body">
                <h5 class="card-title red">${n.title}</h5>
                <p class="card-text">${n.text}</p>
                <small>${new Date(n.date).toLocaleDateString('uk-UA')}</small>
                ${n.link ? `<p class="mt-2 mb-0"><small class="text-danger">Перейти до новини →</small></p>` : ''}
              </div>
            </div>
            <div class="comments-section" onclick="event.stopPropagation();">
              <h6 class="red mb-2">Коментарі (<span id="count-${n.id}">0</span>)</h6>
              <div id="comments-${n.id}" class="mb-3 small"></div>
              ${currentUser ? `
                <div class="input-group">
                  <input type="text" class="form-control bg-dark text-white border-secondary" placeholder="Комент..." id="inp-${n.id}">
                  <button class="btn btn-outline-danger" onclick="event.stopPropagation(); addComment('${n.id}')">Відправити</button>
                </div>
              ` : '<p class="text-muted small">Увійди, щоб коментувати</p>'}
            </div>
          </div>
        </div>
      `).join('');
      news.forEach(n => renderComments(n.id));
    }

    function addComment(id) {
      const inp = document.getElementById(`inp-${id}`);
      const text = inp.value.trim();
      if (!text) return;
      const key = `comments_${id}`;
      let c = JSON.parse(localStorage.getItem(key) || '[]');
      c.push({ user: currentUser.nick, text, date: new Date().toLocaleString('uk-UA') });
      localStorage.setItem(key, JSON.stringify(c));
      inp.value = '';
      renderComments(id);
    }

    function renderComments(id) {
      const key = `comments_${id}`;
      const c = JSON.parse(localStorage.getItem(key) || '[]');
      const div = document.getElementById(`comments-${id}`);
      const cnt = document.getElementById(`count-${id}`);
      if (cnt) cnt.textContent = c.length;
      if (!div) return;
      div.innerHTML = c.map((com, i) => `
        <div class="comment-item d-flex justify-content-between align-items-start">
          <div class="d-flex">
            <div class="bg-danger rounded-circle text-white d-flex align-items-center justify-content-center me-2" style="width:32px;height:32px;font-size:14px;">${com.user[0]}</div>
            <div>
              <strong class="red">${com.user}</strong>
              <small class="text-muted ms-2">${com.date}</small>
              <p class="mb-0 small">${com.text}</p>
            </div>
          </div>
          ${currentUser?.isAdmin ? `<button class="btn btn-sm text-danger" onclick="event.stopPropagation(); deleteComment('${id}',${i})">×</button>` : ''}
        </div>
      `).join('');
    }

    function deleteComment(id, i) {
      if (!confirm('Видалити комент?')) return;
      const key = `comments_${id}`;
      let c = JSON.parse(localStorage.getItem(key) || '[]');
      c.splice(i, 1);
      localStorage.setItem(key, JSON.stringify(c));
      renderComments(id);
    }

    function addNews() {
      const title = document.getElementById('newTitle').value.trim();
      const text = document.getElementById('newText').value.trim();
      const img = document.getElementById('newImg').value.trim() || 'https://via.placeholder.com/400x200?text=Dota+2';
      const link = document.getElementById('newLink').value.trim();
      const date = document.getElementById('newDate').value || new Date().toISOString().split('T')[0];
      if (!title || !text) return alert('Заповни заголовок і опис');
      const news = getNews();
      news.unshift({ id: generateId(), title, text, img, link, date });
      saveNews(news);
      renderNews();
      bootstrap.Modal.getInstance(document.getElementById('adminModal')).hide();
      document.querySelectorAll('#adminModal input').forEach(i => i.value = '');
    }

    function deleteNews(id) {
      if (!confirm('Видалити новину назавжди?')) return;
      const news = getNews().filter(n => n.id !== id);
      saveNews(news);
      localStorage.removeItem(`comments_${id}`);
      renderNews();
    }

    document.addEventListener('DOMContentLoaded', updateUI);
  </script>
</body>
</html>